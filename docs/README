Important assumptions/concepts:

1) Each BPMN element name is unique per process. This simplifies live considerably because:
- We can use names instead of IDs simplifying the world for users and developers alike
- We can use event names to find the current process node. This is clear for BPMN events.
    For example, the "myStartEvent" BPMN element equals the event "myStartEvent".
    However, we can apply this also for tasks: the task "MyTask" starts with the event "MyTask" and
    ends by emitting the "MyTaskDone" event. That is, the status of the process is encoded in the event.

2) Only one process per bpmn file.

Persistency:
 This engine saves the state while waiting for a task being done. While this is happening, all events are deferred until
 the state has been saved. When creating a process the process manager first finds to reload existing processes having
 the given ID. If there is no such process, it will be created.

Handler:
- Event Handler: It gets a callback to be called if the event has been handled.
  Event name == handler name;
- Task Handler: It gets a callback to be called if the event has been handled.
  Task name == handler being called on begin of a task
  Task name + 'Done' == handler being called on end of a task
- Exclusive gateway handlers: Gateways have two different kind of handlers. One handler that is being called
  before the gateway conditions are being evaluated (the gatway handler).
  Gateway event handler name == gateway name
  Additionally, for each outgoing transition we have a condition handler that hast to evaluate synchronously.
  So if backend data are required do this in the gateway callback
  Gateway condition handler name == gateway name + ":" + condition flow name
  NOTE1: if the conditional flow does not have a name an error is thrown

Questions:
- On Task Begin handler has the same name as the task. On Task End handler uses taskName + "Done". Shall we use another convention?
- Shall we bind 'this' of handlers to the process or to another object?

TODOs:
- During wait states we should maybe remove the process from memory and reload it if necessary.
- Test default error and event handler
- MongoDB
- Introduce Logger
- Remove from db after reaching the final state
- Test errors for exclusive gateways
- Build up tests with default events
- Define a name normalize operation on the BPMN package for Cyril
- Document public API
    - plus the handler api (NOTE: defaultErrorHandler, defaultEventHandler, and doneSavingHandler are also put into this object)
- Describe Semantics (use docs Token Semantics (Lam).pdf
- Describe the process client interface as seen by the handlers and the clients

